#Generated by VisualKernel [http://visualkernel.com/].
#Use VisualKernel Project Properties to edit.

KERNELDIR := /lib/modules/$(shell uname -r)/build

KERNEL_MODULE_NAME := vbh_controller
KERNEL_MODULE_OBJECT_FILE_LIST := vbh_controller_main.o vmcall.o vmx_device.o ring_buffer.o kernel_code_protection.o
obj-m := $(KERNEL_MODULE_NAME).o
$(KERNEL_MODULE_NAME)-y += $(KERNEL_MODULE_OBJECT_FILE_LIST)
ccflags-y := -ggdb -O0

all:
	$(MAKE) -C $(KERNELDIR) M=$(PWD)

clean:
	$(MAKE) -C $(KERNELDIR) M=$(PWD) clean
	rm -f $(PWD)/$(TEST_SHARED_DIR)/*.o $(PWD)/$(TEST_SHARED_DIR)/.*.cmd

